!function(t,n,i){"use strict";function a(t){this.repeatVal=!1,this.context=t}a.prototype=i.api,t.jAnimate=function(t){return"string"==typeof t&&(t=n.querySelector(t)),new a(t)},i["private"].compile(n)}(window,document,function(){"use strict";var _api={eventTypes:{hover:["onmouseover"],leave:["onmouseout"],click:["onclick"],drag:["ondrag"],dragStart:["ondragstart","ontouchstart"],dragEnd:["ondragend","ontouchend"]},compile:function(t){var n=t.querySelectorAll("[janimate]");Array.prototype.forEach.call(n,function(t){var t=jAnimate(t),n=_api.buildEventList(t);Object.keys(n).forEach(function(i){var a=i+"_"+Math.floor(1e10*Math.random()+1),e="immediate"===i?void 0:i;t.newAnimation(a,n[i]),t[a](e)})})},buildEventList:function(t){var n={};return t.context.getAttribute("jAnimate").split(").").sort().forEach(function(t){var i=t.split("(")[0],a=t.split("(")[1].replace(/\)/g,""),e=a.split(","),r=e[0].replace(/'/g,"").toString();_api.eventTypes.hasOwnProperty(r)||(r="immediate"),n[r]||(n[r]={}),n[r][i]="immediate"===r?e[0]:e[1],n[r][i]=n[r][i].replace(/'/g,"")}),n},validateArgList:function(t,n){return t.length!==n&&Array.prototype.unshift.call(t,null),t},getNum:function(t){var n="string"==typeof t&&"-"===t[0]?-1:1;return"string"==typeof t&&(t=t.replace(/[^0-9.]/g,"")),t*n},animate:function(t){var n=this;Object.keys(t).forEach(function(i){t.hasOwnProperty(i)&&n[i](t[i])})},assignEvents:function(t,n){if(!n)return void t.call(this.context);for(var i=this,a=0;a<_api.eventTypes[n].length;a++)i.context[_api.eventTypes[n][a]]=function(){t.call(i)}},setDuration:function(t){return t=-1===t.indexOf("s")&&-1===t.indexOf("ms")?t+"ms":t,this.context.style.webkitTransitionDuration=t,this.context.style.mozTransitionDuration=t,this.context.style.msTransitionDuration=t,this.context.style.oTransitionDuration=t,this.context.style.transitionDuration=t,this},setTiming:function(t){return this.context.style.webkitTransitionTimingFunction=t,this.context.style.mozTransitionTimingFunction=t,this.context.style.msTransitionTimingFunction=t,this.context.style.oTransitionTimingFunction=t,this.context.style.transitionTimingFunction=t,this},setTransform:function(t){if("false"===this.repeatVal.toString()&&-1!==this.context.style.transform.indexOf(t.split("(")[0]))return!1;if("toggle"===this.repeatVal.toString()?(this.context.style.webkitTransform=t,this.context.style.mozTransform=t,this.context.style.msTransform=t,this.context.style.oTransform=t,this.context.style.transform=t):(this.context.style.webkitTransform+=t,this.context.style.mozTransform+=t,this.context.style.msTransform+=t,this.context.style.oTransform+=t,this.context.style.transform+=t),"true"===this.repeatVal.toString()){var n="string"==typeof this.context.style.transitionDuration&&-1!==this.context.style.transitionDuration.indexOf("ms")?1:1e3,i=_api.getNum(this.context.style.transitionDuration)*n,a=this;i||(i=500),setTimeout(function(){a.context.style.webkitTransform="",a.context.style.mozTransform="",a.context.style.msTransform="",a.context.style.oTransform="",a.context.style.transform=""},i)}},transform:function(t,n,i){this.toggleState=!this.toggleState;var a=function(){var t=this;return function(){"toggle"!==t.repeatVal||t.toggleState||(n="scaleTransform"===i?1:0),_api[i].call(t,n)}}.call(this);_api.assignEvents.call(this,a,t)},backgroundColor:function(t){this.context.style.backgroundColor=t},scaleTransform:function(t){return _api.setTransform.call(this,"scale("+t+","+t+")")},translateX:function(t){return _api.setTransform.call(this,"translateX("+t+")")},translateY:function(t){return _api.setTransform.call(this,"translateY("+t+")")},opacity:function(t){this.context.style.opacity=t},spinTransform:function(t){return _api.setTransform.call(this,"rotate("+t+")")},translateZ:function(t){return _api.setTransform.call(this,"translateZ("+t+")")}},api={duration:function(t){return _api.setDuration.call(this,t),this},timing:function(t){return _api.setTiming.call(this,t),this},repeat:function(t){return this.repeatVal="toggle"===t?t:"true"===t.toString(),this},grow:function(){var t=_api.validateArgList(arguments,2),n=t[0],i=_api.getNum(t[1]);return _api.transform.call(this,n,i,"scaleTransform"),this},opacity:function(){var t=_api.validateArgList(arguments,2),n=t[0],i=t[1];return _api.transform.call(this,n,i,"opacity"),this},spin:function(){var t=_api.validateArgList(arguments,2),n=t[0],i=_api.getNum(t[1]);return _api.transform.call(this,n,i+"deg","spinTransform"),this},turnBackground:function(){var t=_api.validateArgList(arguments,2),n=t[0],i=t[1];return _api.transform.call(this,n,i,"backgroundColor"),this},moveUp:function(){var t=_api.validateArgList(arguments,2),n=t[0],i="-"+_api.getNum(t[1])+"px";return _api.transform.call(this,n,i,"translateY"),this},moveDown:function(){var t=_api.validateArgList(arguments,2),n=t[0],i=_api.getNum(t[1])+"px";return _api.transform.call(this,n,i,"translateY"),this},moveLeft:function(){var t=_api.validateArgList(arguments,2),n=t[0],i="-"+_api.getNum(t[1])+"px";return _api.transform.call(this,n,i,"translateX"),this},moveRight:function(){var t=_api.validateArgList(arguments,2),n=t[0],i=_api.getNum(t[1])+"px";return _api.transform.call(this,n,i,"translateX"),this},zoomOut:function(){var t=_api.validateArgList(arguments,3),n=t[0],i=_api.getNum(t[1]),a=_api.getNum(t[2]);return _api.transform.call(this,n,i,"scaleTransform"),_api.transform.call(this,n,a,"spinTransform"),this},newAnimation:function(name,obj){this[name]=function(eventType){var objVal=eval("("+JSON.stringify(obj)+")");if(eventType){var func=function(){_api.animate.call(this,objVal)};_api.assignEvents.call(this,func,eventType)}else _api.animate.call(this,objVal);return this}}};return{api:api,"private":_api}}());